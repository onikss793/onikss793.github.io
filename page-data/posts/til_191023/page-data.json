{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/til_191023/","webpackCompilationHash":"4c88981f7706072c8878","result":{"data":{"markdownRemark":{"id":"edfa9166-7de8-5ced-af02-c3044fc76879","html":"<h3 id=\"http-request의-구조\"><a href=\"#http-request%EC%9D%98-%EA%B5%AC%EC%A1%B0\" aria-label=\"http request의 구조 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>http request의 구조</strong></h3>\n<p><strong>header</strong></p>\n<p>startline / target / httpversion</p>\n<ul>\n<li>\n<p>Headers\n해당 request에 대한 추가 정보(addtional information)를 담고 있는 부분.<br>\n예를 들어, request 메세지 body의 총 길이 (Content-Length) 등.<br>\nKey:Value 값으로 되어있다 (key:value)<br>\nHOST: google.com => <strong>Key = HOST</strong>, <strong>Value = google.com</strong><br>\nHeaders도 크게 3부분으로 나뉘지만<br>\n<strong>general headers,</strong><br>\n<strong>request headers,</strong><br>\n<strong>entity headers</strong>\n너무 자세한 부분임으로, 3부분으로 구성되어 있다는것만 알고 있어도 괜찮다.</p>\n<p>자주 사용되는 header 정보에는 다음이 있다:<br>\n<strong>Host</strong><br>\n요청이 전송되는 target의 host url: 예를 들어, google.com<br>\n<strong>User-Agent</strong><br>\n요청을 보내는 클라이언트의 대한 정보: 예를 들어, 웹브라우저에 대한 정보.<br>\n<strong>Accept</strong><br>\n해당 요청이 받을 수 있는 응답(response) 타입.<br>\n<strong>Connection</strong><br>\n해당 요청이 끝난후에 클라이언트와 서버가 계속해서 네트워크 컨넥션을 유지 할것인지 아니면 끊을것인지에 대해 지시하는 부분.<br>\n<strong>Content-Type</strong><br>\n해당 요청이 보내는 메세지 body의 타입. 예를 들어, JSON을 보내면 application/json.<br>\n<strong>Content-Length:</strong><br>\n메세지 body의 길이.</p>\n</li>\n</ul>\n<p><strong>body</strong></p>\n<ul>\n<li>\n<p>원격으로 호출하기 위해 만드는 것이 api, 서버이다. 원격으로 호출하려고 서버를 찾아야하는데, 그때 주소가 필요하다. ip주소는 기억하기 힘들기 때문에 도메인 주소를 사용한다. 하지만 실제로는 도메인 주소도 ip주소로 변환되어 보내진다.</p>\n<p>google.com이라는 주소를 입력했다고 가정하면, 그것만으로는 충분하지 않다. 실질적인 주소를 알아야하기 때문에, Request Target이 필요하다.<br>\n여기서 원격으로 호출되는 것, 그것을 EndPoint라고 한다. End는 호스트를 말하고, point는 그것에 있는 접점 중 하나를 이야기한다.</p>\n</li>\n</ul>\n<p><strong>http response의 구조</strong></p>\n<p><strong>Status Line</strong>\nResponse의 상태를 간략하게 나타내주는 부분.\n3부분으로 구성되어 있다.</p>\n<p><strong>HTTP 버젼</strong></p>\n<p><strong>Status code</strong>: 응답 상태를 나타내는 코드. 숫자로 되어 있는 코드.\n예를 들어, 200</p>\n<p><strong>Status text</strong>: 응답 상태를 간략하게 설명해주는 부분.\n예를 들어, “Not Found”\n<code class=\"language-text\">HTTP/1.1 404 Not Found</code></p>\n<p><strong>Headers</strong>\nResponse의 headers와 동일하다.\n다만 response에서만 사용되는 header 값들이 있다.\n예를 들어, User-Agent 대신에 Server 헤더가 사용된다.\n<strong>Body</strong>\nResponse의 body와 일반적으로 동일하다.\nRequest와 마찬가지로 모든 response가 body가 있지는 않다. 데이터를 전송할 필요가 없을경우 body가 비어있게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"http/1.1404 not found\"><pre class=\"language-http/1.1404 not found\"><code class=\"language-http/1.1404 not found\">Connection: close\nContent-Length: 1573\nContent-Type: text/html; charset=UTF-8\nDate: Mon, 20 Aug 2018 07:59:05 GMT</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;!DOCTYPE html&gt;\n&lt;html lang=en&gt;\n  &lt;meta charset=utf-8&gt;\n  &lt;meta name=viewport content=&quot;initial-scale=1, minimum-scale=1, width=device-width&quot;&gt;\n  &lt;title&gt;Error 404 (Not Found)!!1&lt;/title&gt;\n  &lt;style&gt;\n    *{margin:0;padding:0}html,code{font:15px/22px arial,sans-serif}html{background:#fff;color:#222;padding:15px}body{margin:7% auto 0;max-width:390px;min-height:180px;padding:30px 0 15px}* &gt; body{background:url(//www.google.com/images/errors/robot.png) 100% 5px no-repeat;padding-right:205px}p{margin:11px 0 22px;overflow:hidden}ins{color:#777;text-decoration:none}a img{border:0}@media screen and (max-width:772px){body{background:none;margin-top:0;max-width:none;padding-right:0}}#logo{background:url(//www.google.com/images/branding/googlelogo/1x/googlelogo_color_150x54dp.png) no-repeat;margin-left:-5px}@media only screen and (min-resolution:192dpi){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat 0% 0%/100% 100%;-moz-border-image:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) 0}}@media only screen and (-webkit-min-device-pixel-ratio:2){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat;-webkit-background-size:100% 100%}}#logo{display:inline-block;height:54px;width:150px}\n  &lt;/style&gt;\n  &lt;a href=//www.google.com/&gt;&lt;span id=logo aria-label=Google&gt;&lt;/span&gt;&lt;/a&gt;\n  &lt;p&gt;&lt;b&gt;404.&lt;/b&gt; &lt;ins&gt;That’s an error.&lt;/ins&gt;\n  &lt;p&gt;The requested URL &lt;code&gt;/payment-sync&lt;/code&gt; was not found on this server.  &lt;ins&gt;That’s all we know.&lt;/ins&gt;</code></pre></div>\n<h3 id=\"자주-쓰이는-http-status-code\"><a href=\"#%EC%9E%90%EC%A3%BC-%EC%93%B0%EC%9D%B4%EB%8A%94-http-status-code\" aria-label=\"자주 쓰이는 http status code permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>자주 쓰이는 HTTP Status Code</strong></h3>\n<p><strong>200 OK</strong><br>\n가장 자주 보게되는 status code.<br>\n문제없이 다 잘 실행 되었을때 보내는 코드.</p>\n<p><strong>301 Moved Permanently</strong><br>\n해당 URI가 다른 주소로 바뀌었을때 보내는 코드.<br>\nHTTP/1.1 301 Moved Permanently<br>\nLocation: <a href=\"http://www.example.org/index.asp\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.example.org/index.asp</a></p>\n<p><strong>400 Bad Request</strong><br>\n해당 요청이 잘못된 요청일대 보내는 코드.<br>\n주로 요청에 포함된 input 값들이 잘못된 값들이 보내졌을때 사용되는 코드.<br>\n예를 들어, 전화번호를 보내야 되는데 text가 보내졌을때 등등.</p>\n<p><strong>401 Unauthorized</strong><br>\n유저가 해당 요청을 진행 할려면 먼저 로그인을 하거나 회원 가입을 하거나 등등이 필요하다는것을 나타내려 할때 쓰이는 코드.</p>\n<p><strong>403 Forbidden</strong><br>\n유저가 해당 요청에 대한 권한이 없다는 뜻.<br>\n예를 들어, 오직 과금을 한 유저만 볼 수 있는 데이터를 요청 했을때 등.</p>\n<p><strong>404 Not Found</strong><br>\n요청된 uri가 존재 하지 않는다는 뜻.<br>\nhttp -v google.com/no-such-uri</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">GET /no-such-uri HTTP/1.1\nAccept: */*\nAccept-Encoding: gzip, deflate\nConnection: keep-alive\nHost: google.com\nUser-Agent: HTTPie/0.9.3\n\nHTTP/1.1 404 Not Found\nContent-Length: 1572\nContent-Type: text/html; charset=UTF-8\nDate: Mon, 20 Aug 2018 08:46:48 GMT\nReferrer-Policy: no-referrer</code></pre></div>\n<p><strong>500 Internal Server Error</strong><br>\n서버에서 에러가 났을때 사용되는 코드.<br>\nAPI 개발을 하는 백앤드 개발자들이 싫어하는 코드.</p>\n<p>restful api 란, target주소를 작성할 때의 기준이다. 예를 들어,</p>\n<p><em>GET /user/1(특정 유저 정보 받기)</em><br>\n<em>POST /user(특정 유저 등록)</em><br>\n<em>GET /users(모든 유저 정보 받기)</em><br>\n<em>DELETE /user/1(특정 유저 삭제)</em></p>\n<p>request는 무조건 method로 한다.<br>\n동사는 쓰지 않는다.</p>\n<p>url schema protocol host port tartget option</p>","fields":{"slug":"/posts/til_191023/","tagSlugs":["/tag/til/","/tag/http/"]},"frontmatter":{"date":"2019.10.23","description":"What I learned today","tags":["TIL","HTTP"],"title":"TIL 191023","socialImage":""}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/til_191023/"}}}