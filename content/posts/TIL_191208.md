---
title: 'TIL_191208'
date: '2019.12.08'
template: 'post'
draft: false
slug: '/posts/til_191208/'
category: 'TIL'
tags:
  - 'typescript'
description: 'Introduction to typescript'
socialImage: ''
---

### interface

interface를 사용하면 객체가 어떠한 타입을 가질 것인가에 대해 구체적으로 지정할 수 있다.

```ts
interface LabeledValue {
  label: string;
}

function printLabel(labelObj: LabeledValue) {
  console.log(labeledObj.label);
}

const myObj = { size: 10, label: 'Size 10 Object' };
printLabel(myObj);
```

optional한 property에 대해서는 `?`를 사용해서 나타낼 수 있다.

```ts
interface SquareConfig {
  color?: string;
  width?: number;
}

function createSquare(config: SquareConfig): { color: string; area: number } {
  const newSquare = { color: 'white', area: 100 };

  if (config.color) {
    newSquare.color = config.color;
  }

  if (config.width) {
    newSquare.width = config.width;
  }

  return newSquare;
}

const mySquare = createSquare({ color: 'black' });
```

Readonly property를 사용하면 변경이 불가능한 값을 지정해줄 수 있다.

```ts
interface Point {
  readonly x: number;
}

let p: Point = { x: 10 };
p.x = 1000; // ERROR

//  ReadonlyArray<T>처럼 배열도 readonly를 지정할 수 있다.
```

### Class Types

Implementing an interface

타입스크립트에서는 클래스에 interface를 implement해서 사용할 수 있다.

```ts
interface ClockInterface {
  currentTime: Date;
  setTime(d: Date): void;
}

class Clock implements ClockInterface {
  currentTime: Date = new Date();
  setTime(d: Date) {
    this.currentTime = d;
  }
  constructor(h: number, m: number) {}
}
```

interface는 class의 public한 것들만 나타낸다. 그래서 constructor는 타입 체크를 할 수 없다. 이를 위해 다른 방식을 사용해야 한다.

```ts
interface ClockConstructor {
  new (hour: number, minute: number);
}

interface ClockInterface {
  tick();
}

const Clock: ClockConstructor = class Clock implements ClockInterface {
  constructor(h: number, m: number) {}
  tick() {
    console.log('beep beep');
  }
};
```

interface 끼리도 서로 implement할 수 있다.

```ts
interface Shape {
  color: string;
}

interface PenStroke {
  penWidth: number;
}

interface Square extends Shape, PenStroke {
  sideLength: number;
}

const square = {} as Square;

square.color = 'blue';
square.sideLength = 10;
square.penWidth = 5.0;
```

### **Decorator**

데코레이터를 사용하면 여러 개의 함수를 가독성 높은 방식으로 적용시킬 수 있다.

```ts
function f() {
  console.log('f() evaluated');

  return function(target, propertyKey: string, descriptor: PropertyDescriptor) {
    console.log('f() called');
  };
}

function g() {
  console.log('g(): evaluated');

  return function(target, propertyKey: string, descriptor: PropertyDescriptor) {
    console.log('g(): called');
  };
}

class C {
  @f()
  @g()
  method() {}
}

// f(): evaluated
// g(): evaluated
// g(): called
// f(): called
```
